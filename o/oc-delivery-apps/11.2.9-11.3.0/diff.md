# Comparing `tmp/oc_delivery_apps-11.2.9-py3-none-any.whl.zip` & `tmp/oc_delivery_apps-11.3.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,117 +1,117 @@
-Zip file size: 95171 bytes, number of entries: 115
--rw-r--r--  2.0 unx        0 b- defN 23-May-10 11:34 oc_delivery_apps/__init__.py
--rw-r--r--  2.0 unx     1851 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/Component.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/__init__.py
--rw-r--r--  2.0 unx      171 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/apps.py
--rw-r--r--  2.0 unx     4756 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/archive_object.py
--rw-r--r--  2.0 unx    60363 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/controllers.py
--rw-r--r--  2.0 unx    11096 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/models.py
--rw-r--r--  2.0 unx     3501 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0001_initial.py
--rw-r--r--  2.0 unx     1144 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0002_auto_20170424_0902.py
--rw-r--r--  2.0 unx     1223 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0003_auto_20170424_1235.py
--rw-r--r--  2.0 unx      182 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0005_fileinfo.py
--rw-r--r--  2.0 unx      404 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0006_citypes_is_deliverable.py
--rw-r--r--  2.0 unx      434 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0007_locations_revision.py
--rw-r--r--  2.0 unx      412 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0008_locations_is_deleted.py
--rw-r--r--  2.0 unx     1966 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0009_auto_20171204_0100.py
--rw-r--r--  2.0 unx     1260 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0010_citypegroups_citypeincs.py
--rw-r--r--  2.0 unx      365 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0011_remove_citypegroups_rn_gav.py
--rw-r--r--  2.0 unx      447 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0012_citypegroups_rn_artifactid.py
--rw-r--r--  2.0 unx      816 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0013_auto_20180109_0127.py
--rw-r--r--  2.0 unx      181 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0014_migrate_file_incs_data.py
--rw-r--r--  2.0 unx      186 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0015_auto_20180126_0332.py
--rw-r--r--  2.0 unx      182 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0016_citypeparms.py
--rw-r--r--  2.0 unx      435 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0017_historicallocations_history_change_reason.py
--rw-r--r--  2.0 unx      413 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0018_auto_20180312_0116.py
--rw-r--r--  2.0 unx     2485 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0019_auto_20180326_0439.py
--rw-r--r--  2.0 unx      181 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0020_cs_prov_migration.py
--rw-r--r--  2.0 unx      866 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0021_auto_20180329_0242.py
--rw-r--r--  2.0 unx      438 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0022_files_depth_level.py
--rw-r--r--  2.0 unx      584 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0023_loc_db_index.py
--rw-r--r--  2.0 unx      175 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0024_locations_dup_remove.py
--rw-r--r--  2.0 unx      532 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0025_auto_20180412_0740.py
--rw-r--r--  2.0 unx      180 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0026_auto_20180416_0413.py
--rw-r--r--  2.0 unx      192 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0027_notnull_loc_rev.py
--rw-r--r--  2.0 unx      177 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0028_auto_20180419_0719.py
--rw-r--r--  2.0 unx      182 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0029_fake_id_reverse.py
--rw-r--r--  2.0 unx      630 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0030_auto_20180514_2311.py
--rw-r--r--  2.0 unx      182 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0031_auto_20180528_2344.py
--rw-r--r--  2.0 unx      700 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0032_auto_20180703_0023.py
--rw-r--r--  2.0 unx      806 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/0033_auto_20200117_0810.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-10 11:34 oc_delivery_apps/checksums/migrations/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/__init__.py
--rw-r--r--  2.0 unx      172 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/apps.py
--rw-r--r--  2.0 unx     4756 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/archive_object.py
--rw-r--r--  2.0 unx    58604 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/controllers.py
--rw-r--r--  2.0 unx     9313 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/models.py
--rw-r--r--  2.0 unx     3506 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0001_initial.py
--rw-r--r--  2.0 unx     1148 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0002_auto_20170424_0902.py
--rw-r--r--  2.0 unx     1226 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0003_auto_20170424_1235.py
--rw-r--r--  2.0 unx      182 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0005_fileinfo.py
--rw-r--r--  2.0 unx      405 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0006_citypes_is_deliverable.py
--rw-r--r--  2.0 unx      435 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0007_locations_revision.py
--rw-r--r--  2.0 unx      413 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0008_locations_is_deleted.py
--rw-r--r--  2.0 unx     1969 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0009_auto_20171204_0100.py
--rw-r--r--  2.0 unx     1263 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0010_citypegroups_citypeincs.py
--rw-r--r--  2.0 unx      366 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0011_remove_citypegroups_rn_gav.py
--rw-r--r--  2.0 unx      448 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0012_citypegroups_rn_artifactid.py
--rw-r--r--  2.0 unx      819 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0013_auto_20180109_0127.py
--rw-r--r--  2.0 unx      182 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0014_migrate_file_incs_data.py
--rw-r--r--  2.0 unx      186 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0015_auto_20180126_0332.py
--rw-r--r--  2.0 unx      182 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0016_citypeparms.py
--rw-r--r--  2.0 unx      436 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0017_historicallocations_history_change_reason.py
--rw-r--r--  2.0 unx      414 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0018_auto_20180312_0116.py
--rw-r--r--  2.0 unx     2491 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0019_auto_20180326_0439.py
--rw-r--r--  2.0 unx      182 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0020_cs_prov_migration.py
--rw-r--r--  2.0 unx      867 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0021_auto_20180329_0242.py
--rw-r--r--  2.0 unx      439 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0022_files_depth_level.py
--rw-r--r--  2.0 unx      585 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0023_loc_db_index.py
--rw-r--r--  2.0 unx      176 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0024_locations_dup_remove.py
--rw-r--r--  2.0 unx      533 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0025_auto_20180412_0740.py
--rw-r--r--  2.0 unx      181 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0026_auto_20180416_0413.py
--rw-r--r--  2.0 unx      182 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0027_notnull_loc_rev.py
--rw-r--r--  2.0 unx      178 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0028_auto_20180419_0719.py
--rw-r--r--  2.0 unx      182 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0029_fake_id_reverse.py
--rw-r--r--  2.0 unx      179 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0030_remove_dup_locations.py
--rw-r--r--  2.0 unx     1269 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0031_loc_unique_idx.py
--rw-r--r--  2.0 unx      178 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0032_auto_20180529_0123.py
--rw-r--r--  2.0 unx      702 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/0033_auto_20180703_0008.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-10 11:34 oc_delivery_apps/dlcontents/migrations/__init__.py
--rw-r--r--  2.0 unx     5076 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/DLModels.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/__init__.py
--rw-r--r--  2.0 unx      169 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/apps.py
--rw-r--r--  2.0 unx     8572 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/models.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/management/__init__.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/management/commands/__init__.py
--rw-r--r--  2.0 unx     1905 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/management/commands/fix_shifted_dates.py
--rw-r--r--  2.0 unx     3923 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/management/commands/init_delivery_history.py
--rw-r--r--  2.0 unx     4060 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0001_initial.py
--rw-r--r--  2.0 unx      310 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0002_remove_delivery_build_status.py
--rw-r--r--  2.0 unx      403 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0003_delivery_build_status.py
--rw-r--r--  2.0 unx      418 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0004_client_country.py
--rw-r--r--  2.0 unx      378 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0005_delivery_creation_date.py
--rw-r--r--  2.0 unx     4886 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0006_auto_20170113_1749.py
--rw-r--r--  2.0 unx      666 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0007_clientemailaddress.py
--rw-r--r--  2.0 unx      366 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0008_client_is_active.py
--rw-r--r--  2.0 unx      367 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0009_auto_20170901_1032.py
--rw-r--r--  2.0 unx      607 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0010_clientlanguage.py
--rw-r--r--  2.0 unx      430 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0011_client_language.py
--rw-r--r--  2.0 unx      634 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0012_ftpuploadextendedclient.py
--rw-r--r--  2.0 unx      871 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0013_auto_20180125_0105.py
--rw-r--r--  2.0 unx      596 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0014_auto_20180221_0312.py
--rw-r--r--  2.0 unx      195 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0015_delete_dl_status_rollback.py
--rw-r--r--  2.0 unx      391 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0016_ftpuploadclientoptions_can_receive.py
--rw-r--r--  2.0 unx      532 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0017_privatefile.py
--rw-r--r--  2.0 unx      770 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0018_jiraprojects.py
--rw-r--r--  2.0 unx     1218 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0019_auto_20190219_0909.py
--rw-r--r--  2.0 unx     1386 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0020_JiraInstances_Table_Addition.py
--rw-r--r--  2.0 unx      618 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0021_AddedUniqueFields.py
--rw-r--r--  2.0 unx      744 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0022_auto_20190319_0653.py
--rw-r--r--  2.0 unx      369 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/0023_jirainstances_priority.py
--rw-r--r--  2.0 unx        0 b- defN 23-May-10 11:34 oc_delivery_apps/dlmanager/migrations/__init__.py
--rw-r--r--  2.0 unx    11357 b- defN 23-May-10 11:34 oc_delivery_apps-11.2.9.dist-info/LICENSE
--rw-r--r--  2.0 unx      435 b- defN 23-May-10 11:34 oc_delivery_apps-11.2.9.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-10 11:34 oc_delivery_apps-11.2.9.dist-info/WHEEL
--rw-r--r--  2.0 unx       17 b- defN 23-May-10 11:34 oc_delivery_apps-11.2.9.dist-info/top_level.txt
--rw-rw-r--  2.0 unx    13253 b- defN 23-May-10 11:34 oc_delivery_apps-11.2.9.dist-info/RECORD
-115 files, 260861 bytes uncompressed, 72703 bytes compressed:  72.1%
+Zip file size: 96527 bytes, number of entries: 115
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-10 11:16 oc_delivery_apps/__init__.py
+-rw-r--r--  2.0 unx     1851 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/Component.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/__init__.py
+-rw-r--r--  2.0 unx      171 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/apps.py
+-rw-r--r--  2.0 unx     4932 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/archive_object.py
+-rw-r--r--  2.0 unx    62655 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/controllers.py
+-rw-r--r--  2.0 unx    11096 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/models.py
+-rw-r--r--  2.0 unx     3501 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0001_initial.py
+-rw-r--r--  2.0 unx     1144 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0002_auto_20170424_0902.py
+-rw-r--r--  2.0 unx     1223 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0003_auto_20170424_1235.py
+-rw-r--r--  2.0 unx      182 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0005_fileinfo.py
+-rw-r--r--  2.0 unx      404 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0006_citypes_is_deliverable.py
+-rw-r--r--  2.0 unx      434 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0007_locations_revision.py
+-rw-r--r--  2.0 unx      412 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0008_locations_is_deleted.py
+-rw-r--r--  2.0 unx     1966 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0009_auto_20171204_0100.py
+-rw-r--r--  2.0 unx     1260 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0010_citypegroups_citypeincs.py
+-rw-r--r--  2.0 unx      365 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0011_remove_citypegroups_rn_gav.py
+-rw-r--r--  2.0 unx      447 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0012_citypegroups_rn_artifactid.py
+-rw-r--r--  2.0 unx      816 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0013_auto_20180109_0127.py
+-rw-r--r--  2.0 unx      181 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0014_migrate_file_incs_data.py
+-rw-r--r--  2.0 unx      186 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0015_auto_20180126_0332.py
+-rw-r--r--  2.0 unx      182 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0016_citypeparms.py
+-rw-r--r--  2.0 unx      435 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0017_historicallocations_history_change_reason.py
+-rw-r--r--  2.0 unx      413 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0018_auto_20180312_0116.py
+-rw-r--r--  2.0 unx     2485 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0019_auto_20180326_0439.py
+-rw-r--r--  2.0 unx      181 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0020_cs_prov_migration.py
+-rw-r--r--  2.0 unx      866 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0021_auto_20180329_0242.py
+-rw-r--r--  2.0 unx      438 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0022_files_depth_level.py
+-rw-r--r--  2.0 unx      584 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0023_loc_db_index.py
+-rw-r--r--  2.0 unx      175 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0024_locations_dup_remove.py
+-rw-r--r--  2.0 unx      532 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0025_auto_20180412_0740.py
+-rw-r--r--  2.0 unx      180 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0026_auto_20180416_0413.py
+-rw-r--r--  2.0 unx      192 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0027_notnull_loc_rev.py
+-rw-r--r--  2.0 unx      177 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0028_auto_20180419_0719.py
+-rw-r--r--  2.0 unx      182 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0029_fake_id_reverse.py
+-rw-r--r--  2.0 unx      630 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0030_auto_20180514_2311.py
+-rw-r--r--  2.0 unx      182 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0031_auto_20180528_2344.py
+-rw-r--r--  2.0 unx      700 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0032_auto_20180703_0023.py
+-rw-r--r--  2.0 unx      806 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/0033_auto_20200117_0810.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-10 11:16 oc_delivery_apps/checksums/migrations/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/__init__.py
+-rw-r--r--  2.0 unx      172 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/apps.py
+-rw-r--r--  2.0 unx     4932 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/archive_object.py
+-rw-r--r--  2.0 unx    60792 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/controllers.py
+-rw-r--r--  2.0 unx     9313 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/models.py
+-rw-r--r--  2.0 unx     3506 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0001_initial.py
+-rw-r--r--  2.0 unx     1148 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0002_auto_20170424_0902.py
+-rw-r--r--  2.0 unx     1226 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0003_auto_20170424_1235.py
+-rw-r--r--  2.0 unx      182 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0005_fileinfo.py
+-rw-r--r--  2.0 unx      405 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0006_citypes_is_deliverable.py
+-rw-r--r--  2.0 unx      435 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0007_locations_revision.py
+-rw-r--r--  2.0 unx      413 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0008_locations_is_deleted.py
+-rw-r--r--  2.0 unx     1969 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0009_auto_20171204_0100.py
+-rw-r--r--  2.0 unx     1263 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0010_citypegroups_citypeincs.py
+-rw-r--r--  2.0 unx      366 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0011_remove_citypegroups_rn_gav.py
+-rw-r--r--  2.0 unx      448 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0012_citypegroups_rn_artifactid.py
+-rw-r--r--  2.0 unx      819 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0013_auto_20180109_0127.py
+-rw-r--r--  2.0 unx      182 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0014_migrate_file_incs_data.py
+-rw-r--r--  2.0 unx      186 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0015_auto_20180126_0332.py
+-rw-r--r--  2.0 unx      182 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0016_citypeparms.py
+-rw-r--r--  2.0 unx      436 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0017_historicallocations_history_change_reason.py
+-rw-r--r--  2.0 unx      414 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0018_auto_20180312_0116.py
+-rw-r--r--  2.0 unx     2491 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0019_auto_20180326_0439.py
+-rw-r--r--  2.0 unx      182 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0020_cs_prov_migration.py
+-rw-r--r--  2.0 unx      867 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0021_auto_20180329_0242.py
+-rw-r--r--  2.0 unx      439 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0022_files_depth_level.py
+-rw-r--r--  2.0 unx      585 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0023_loc_db_index.py
+-rw-r--r--  2.0 unx      176 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0024_locations_dup_remove.py
+-rw-r--r--  2.0 unx      533 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0025_auto_20180412_0740.py
+-rw-r--r--  2.0 unx      181 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0026_auto_20180416_0413.py
+-rw-r--r--  2.0 unx      182 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0027_notnull_loc_rev.py
+-rw-r--r--  2.0 unx      178 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0028_auto_20180419_0719.py
+-rw-r--r--  2.0 unx      182 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0029_fake_id_reverse.py
+-rw-r--r--  2.0 unx      179 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0030_remove_dup_locations.py
+-rw-r--r--  2.0 unx     1269 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0031_loc_unique_idx.py
+-rw-r--r--  2.0 unx      178 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0032_auto_20180529_0123.py
+-rw-r--r--  2.0 unx      702 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/0033_auto_20180703_0008.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlcontents/migrations/__init__.py
+-rw-r--r--  2.0 unx     5076 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/DLModels.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/__init__.py
+-rw-r--r--  2.0 unx      169 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/apps.py
+-rw-r--r--  2.0 unx     8572 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/models.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/management/__init__.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/management/commands/__init__.py
+-rw-r--r--  2.0 unx     1905 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/management/commands/fix_shifted_dates.py
+-rw-r--r--  2.0 unx     3923 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/management/commands/init_delivery_history.py
+-rw-r--r--  2.0 unx     4060 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0001_initial.py
+-rw-r--r--  2.0 unx      310 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0002_remove_delivery_build_status.py
+-rw-r--r--  2.0 unx      403 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0003_delivery_build_status.py
+-rw-r--r--  2.0 unx      418 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0004_client_country.py
+-rw-r--r--  2.0 unx      378 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0005_delivery_creation_date.py
+-rw-r--r--  2.0 unx     4886 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0006_auto_20170113_1749.py
+-rw-r--r--  2.0 unx      666 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0007_clientemailaddress.py
+-rw-r--r--  2.0 unx      366 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0008_client_is_active.py
+-rw-r--r--  2.0 unx      367 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0009_auto_20170901_1032.py
+-rw-r--r--  2.0 unx      607 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0010_clientlanguage.py
+-rw-r--r--  2.0 unx      430 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0011_client_language.py
+-rw-r--r--  2.0 unx      634 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0012_ftpuploadextendedclient.py
+-rw-r--r--  2.0 unx      871 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0013_auto_20180125_0105.py
+-rw-r--r--  2.0 unx      596 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0014_auto_20180221_0312.py
+-rw-r--r--  2.0 unx      195 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0015_delete_dl_status_rollback.py
+-rw-r--r--  2.0 unx      391 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0016_ftpuploadclientoptions_can_receive.py
+-rw-r--r--  2.0 unx      532 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0017_privatefile.py
+-rw-r--r--  2.0 unx      770 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0018_jiraprojects.py
+-rw-r--r--  2.0 unx     1218 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0019_auto_20190219_0909.py
+-rw-r--r--  2.0 unx     1386 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0020_JiraInstances_Table_Addition.py
+-rw-r--r--  2.0 unx      618 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0021_AddedUniqueFields.py
+-rw-r--r--  2.0 unx      744 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0022_auto_20190319_0653.py
+-rw-r--r--  2.0 unx      369 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/0023_jirainstances_priority.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-10 11:16 oc_delivery_apps/dlmanager/migrations/__init__.py
+-rw-r--r--  2.0 unx    11357 b- defN 23-Jul-10 11:16 oc_delivery_apps-11.3.0.dist-info/LICENSE
+-rw-r--r--  2.0 unx      435 b- defN 23-Jul-10 11:16 oc_delivery_apps-11.3.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-10 11:16 oc_delivery_apps-11.3.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       17 b- defN 23-Jul-10 11:16 oc_delivery_apps-11.3.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx    13253 b- defN 23-Jul-10 11:16 oc_delivery_apps-11.3.0.dist-info/RECORD
+115 files, 265693 bytes uncompressed, 74059 bytes compressed:  72.1%
```

## zipnote {}

```diff
@@ -324,23 +324,23 @@
 
 Filename: oc_delivery_apps/dlmanager/migrations/0023_jirainstances_priority.py
 Comment: 
 
 Filename: oc_delivery_apps/dlmanager/migrations/__init__.py
 Comment: 
 
-Filename: oc_delivery_apps-11.2.9.dist-info/LICENSE
+Filename: oc_delivery_apps-11.3.0.dist-info/LICENSE
 Comment: 
 
-Filename: oc_delivery_apps-11.2.9.dist-info/METADATA
+Filename: oc_delivery_apps-11.3.0.dist-info/METADATA
 Comment: 
 
-Filename: oc_delivery_apps-11.2.9.dist-info/WHEEL
+Filename: oc_delivery_apps-11.3.0.dist-info/WHEEL
 Comment: 
 
-Filename: oc_delivery_apps-11.2.9.dist-info/top_level.txt
+Filename: oc_delivery_apps-11.3.0.dist-info/top_level.txt
 Comment: 
 
-Filename: oc_delivery_apps-11.2.9.dist-info/RECORD
+Filename: oc_delivery_apps-11.3.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## oc_delivery_apps/checksums/archive_object.py

```diff
@@ -97,15 +97,17 @@
         """
         Extract a member by an '_name' given to the temporary location and return temporary file object.
         :param str pth_e: path decoded to UTF-8
         :param pth: str or bytes object to the path object, as it returned by corresponding module
         :return NamedTemporaryFile:
         """
 
-        _rs = tempfile.NamedTemporaryFile(suffix=posixpath.basename(pth_e))
+        # make suffix as extension only - needed for 'wrap' to work correctly
+        # limit it to five characters - usually it is enough for real extensions
+        _rs = tempfile.NamedTemporaryFile(suffix=list(posixpath.splitext(pth_e)).pop()[0:5])
 
         if self._mode == 'TAR':
             # unfortunately 'shutil.copyfileobj' does not work properly here
             # because 'tarfile' has no support for 'chunk' reading
             _rs.write(self._arch.extractfile(pth).read())
         elif self._mode == 'ZIP':
             with self._arch.open(pth) as _f:
```

## oc_delivery_apps/checksums/controllers.py

```diff
@@ -9,14 +9,15 @@
 import hashlib
 import magic
 import tempfile
 import os
 import posixpath
 import shutil
 import logging
+from oc_cdtapi.NexusAPI import gav_to_path
 
 #BEG: DICTIONARIES
 # specific calculations should be placed here if needed
 #END: DICTIONARIES
 
 # BEG: MAIN CONTROLLER
 
@@ -233,19 +234,15 @@
         checksum = checksum.strip()
         cs_type = cs_type.strip().upper()
         cs_prov = cs_prov.strip()
 
         if not self._is_strict_cs_prov(cs_prov):
             return False
 
-        if not ci_type:
-            ci_type = self.ci_type_by_path(location, loc_type)
-
-        # otherwise store all. IS_DELETED will be False by Model.
-        _ci_type = models.CiTypes.objects.filter(code=ci_type).last()
+        _ci_type = self._ci_type_record(ci_type, location, loc_type)
         _loc = None
         _cs = None
 
         try:
             with transaction.atomic():
                 _file = models.Files(ci_type=_ci_type, mime_type=mime_type)
                 _file.save()
@@ -352,20 +349,47 @@
 
         if skip_absent and any([not _fl_child, not _fl_parent]):
             # no such file in database, can't include - so skip if we forced to do so
             return 0
 
         return self.add_inclusion(_fl_child, _fl_parent, path)
 
+    def _ci_type_record(self, ci_type, loc_path, loc_type):
+        """
+        Get ci-type record. Try to detect by path given and its location type if not exists.
+        Uses 'ci_type_by_path' first to detect a type if it is not given.
+        Returns a record from database for a type detected, and default one for 'FILE' if detection fails.
+        Raises an exception if record for CI_TYPE does not exist in database.
+        :param str ci_type: type to get record for
+        :param str loc_path: location path for autodetection
+        :param str loc_type: location type code for autodetection
+        :return oc_delivery_apps.checksums.CiTypes: a record for a type given, or autodetected one
+        """
+        if not ci_type:
+            # we are force to autodetect
+            ci_type = self.ci_type_by_path(loc_path, loc_type)
+            logging.debug("Location path: [%s]; Location type: [%s]; Autodetected CI_TYPE: [%s]" % (loc_path, loc_type, ci_type))
+        elif not models.CiTypes.objects.filter(code=ci_type).count():
+            _ci_type = self.ci_type_by_path(loc_path, loc_type)
+            logging.error("CI_TYPE not found: [%s], replaced to [%s]" % (ci_type, _ci_type))
+            ci_type = _ci_type
+
+        _ci_type_r = models.CiTypes.objects.filter(code=ci_type).last()
+
+        if not _ci_type_r:
+            raise ValueError("CI_TYPE not found: [%s]" % ci_type)
+
+        return _ci_type_r
+
     def ci_type_by_path(self, path, loc_type):
         """
         Get ci-type code by path given and location type. Searches by regexp's in database and returns first CI_TYPE which's regexp path given has met to.
         :param str path: location path
         :param loc_type: location type code
-        :return str: ci-type code, or None if not found
+        :return str: ci-type code, or default 'FILE' if nothing found
         """
 
         if not loc_type:
             raise ValueError("Location type is mandatory")
 
         if not path:
             raise ValueError("Path is mandatory")
@@ -600,43 +624,40 @@
         :param str loc_type: location type for loc_path. Will try to auto-detect if missing.
         :param loc_revision: str or int, location revision, may not be omitted for SVN location type
         :return: file record from model which was registered for an sql given
         """
         _file_pos = file_o.tell()
         _mime_type = self.mime(file_o)
 
-        if not ci_type:
-            ci_type = self.ci_type_by_path(loc_path, loc_type)
-
-        _ci_type_r = models.CiTypes.objects.filter(code=ci_type).last()
+        _ci_type_r = self._ci_type_record(ci_type, loc_path, loc_type)
 
         file_o.seek(0, os.SEEK_SET)
         _cs_d = self.get_all_sql_checksums(file_o)
         _fl_m_r = None
         try:
             with transaction.atomic():
                 _fl_m_r = models.Files(ci_type=_ci_type_r, mime_type=_mime_type)
                 _fl_m_r.save()
                 _fl_m_r = self._reg_all_sql_cs_provs(_fl_m_r, _cs_d)
 
         except IntegrityError as _e:
-            logging.exception(_e)
+            logging.debug(repr(_e), exc_info=True)
             _fl_m_r = self.get_file_by_checksums_dict(_cs_d)
 
             if _fl_m_r is None:
                 raise
 
             _fl_m_r = _fl_m_r[1]  # get real file object from tuple
             _fl_m_r = self._reg_all_sql_cs_provs(_fl_m_r, _cs_d, dup=True)
             pass
 
         # check arguments is not needed since they are checked in sub-methods
         # one exception: location and location type have to be set in pair
         if loc_path and not loc_type:
-            raise ValueError("loc_path is specified but loc_type is missing")
+            raise ValueError("'loc_path' is specified but 'loc_type' is missing")
 
         if loc_path: 
             self.add_location(_fl_m_r, loc_path, loc_type, loc_revision)
 
         file_o.seek(_file_pos, 0)
         return _fl_m_r
 
@@ -728,14 +749,40 @@
         :param bool force_recalc: if True then all included archives contents is to be re-calculated even if it is found to be registered already
         :return: file record from model, or None on failure
         """
         (_fl_r, _inclusion_level_calc) = self._register_file_obj(file_o, ci_type, loc_path,
                 loc_type, loc_revision, inclusion_level, ci_type_sub, force_recalc, 0)
         return _fl_r
 
+    def _is_sql_extension(self, loc_path, loc_type):
+        """
+        Try to get extension from location path given and check against SQL
+        :param str loc_path: location path
+        :param str loc_type: location type code
+        """
+
+        if not loc_path:
+            logging.error("Empty location path given")
+            return False
+
+        # if location type is NXS (maven) then we have to convert it to path
+        # all other location types assumed to be POSIX-compatible
+        if isinstance(loc_type, str):
+            loc_type = loc_type.upper()
+
+        if loc_type == "NXS":
+            logging.debug("NXS location, converting GAV [%s] to POSIX path" % loc_path)
+            loc_path = gav_to_path(loc_path)
+            logging.debug("GAV converted to path: [%s]" % loc_path)
+
+        _ext = list(posixpath.splitext(loc_path)).pop().lower()
+        logging.debug("Extension is [%s]" % _ext)
+
+        return _ext in [".sql", ".plb"]
+
     def _register_file_obj(self, file_o, ci_type, loc_path, loc_type, loc_revision, inclusion_level, ci_type_sub, force_recalc, inclusion_level_calc):
         """
         Registers file or file-like object in the database. MD5 checksum and MIME-type of the file object will be calculated. 
         No duplicate locations and checksums will be stored.
         all possible checksums of '.sql' objects will be stored
         :param file_o: python file-like object, have to be opened already in BINARY mode.
         :param str ci_type: ci_type code of file_object itself. Will be determined by regular expressions in database if not given.
@@ -757,15 +804,15 @@
         _normalizer = normalizer.PLSQLNormalizer()
         _file_r_m = None
 
         _pos = file_o.tell()
         file_o.seek(0, 0)
         _inclusion_level_calc_src = inclusion_level_calc
 
-        if not _normalizer.is_sql(file_o.read(self.__sql_limit)):
+        if not self._is_sql_extension(loc_path, loc_type) or not _normalizer.is_sql(file_o.read(self.__sql_limit)):
             # calculate file checksum
             _md5sum = self.md5(file_o)
             # register MD5 sum as "Regular" for non-sql files
             _file_r_m = self.register_file_md5(_md5sum, ci_type, 
                     self.mime(file_o), loc_path, loc_type, loc_revision, cs_prov="Regular")
             _inclusion_level_tmp = self.get_current_inclusion_depth(_file_r_m)
             _registered = (not force_recalc)\
@@ -810,20 +857,18 @@
         # do nothing if not since whole file shall be registered otherwise.
         if not self._is_strict_cs_prov(cs_prov):
             return None
 
         # check arguments is not needed since they are checked in sub-methods
         # one exception: location and location type have to be set in pair
         if loc_path and not loc_type:
-            raise ValueError("loc_path is specified but loc_type missing")
+            raise ValueError("'loc_path' is specified but 'loc_type' missing")
 
-        if not ci_type:
-            ci_type = self.ci_type_by_path(loc_path, loc_type)
+        _ci_type_r = self._ci_type_record(ci_type, loc_path, loc_type)
 
-        _ci_type_r = models.CiTypes.objects.filter(code=ci_type).last()
         _fl_r = None
 
         try:
             with transaction.atomic():
                 _fl_r = models.Files(ci_type=_ci_type_r, mime_type=mime_type)
                 _fl_r.save()
                 self.add_checksum(_fl_r, md5sum)  # add checksum
@@ -1017,15 +1062,15 @@
         :param fl_o: file-like object to perform step upon
         :param str step: step name (cs_prov prefix)
         :param bool is_first: is it the first step
         :return: dictionary of step result where keys are step names (===cs_provs) and values are temporary file objects with step results
         """
 
         if step not in list(self.__cs_providers.keys()):
-            raise ValueError("%s not found in providers list" % step)
+            raise ValueError("[%s]: not found in providers list" % step)
 
         _result = dict()
 
         if "func" not in self.__cs_providers[step]:
             # do not unite above and below conditions into single one, because it will go to 'else' branch if we do so
             # but this case it will be a crime and unwanted exceptions
             if is_first:
@@ -1310,14 +1355,17 @@
             raise ValueError("CI_TYPE is mandatory")
 
         if not version:
             raise ValueError("Version is mandatory")
 
         _citype = models.CiTypes.objects.get(code=ci_type)
 
+        if not _citype:
+            raise ValueError("No documentation CI_TYPE found: [%s]" % ci_type)
+
         if _citype.doc_artifactid:
             return _citype.get_doc_gav(version)
 
         _doc_gavs = list(map(lambda x: x.ci_type_group.get_doc_gav(version), _citype.citypeincs_set.all()))
         _doc_gavs = list(filter(lambda x: x, _doc_gavs))
 
         if not _doc_gavs:
```

## oc_delivery_apps/dlcontents/archive_object.py

```diff
@@ -97,15 +97,17 @@
         """
         Extract a member by an '_name' given to the temporary location and return temporary file object.
         :param str pth_e: path decoded to UTF-8
         :param pth: str or bytes object to the path object, as it returned by corresponding module
         :return NamedTemporaryFile:
         """
 
-        _rs = tempfile.NamedTemporaryFile(suffix=posixpath.basename(pth_e))
+        # make suffix as extension only - needed for 'wrap' to work correctly
+        # limit it to five characters - usually it is enough for real extensions
+        _rs = tempfile.NamedTemporaryFile(suffix=list(posixpath.splitext(pth_e)).pop()[0:5])
 
         if self._mode == 'TAR':
             # unfortunately 'shutil.copyfileobj' does not work properly here
             # because 'tarfile' has no support for 'chunk' reading
             _rs.write(self._arch.extractfile(pth).read())
         elif self._mode == 'ZIP':
             with self._arch.open(pth) as _f:
```

## oc_delivery_apps/dlcontents/controllers.py

```diff
@@ -9,14 +9,15 @@
 import hashlib
 import magic
 import tempfile
 import os
 import posixpath
 import shutil
 import logging
+from oc_cdtapi.NexusAPI import gav_to_path
 
 #BEG: DICTIONARIES
 # specific calculations should be placed here if needed
 #END: DICTIONARIES
 
 # BEG: MAIN CONTROLLER
 
@@ -234,19 +235,15 @@
         checksum = checksum.strip()
         cs_type = cs_type.strip().upper()
         cs_prov = cs_prov.strip()
 
         if not self._is_strict_cs_prov(cs_prov):
             return False
 
-        if not ci_type:
-            ci_type = self.ci_type_by_path(location, loc_type)
-
-        # otherwise store all. IS_DELETED will be False by Model.
-        _ci_type = models.CiTypes.objects.filter(code=ci_type).last()
+        _ci_type = self._ci_type_record(ci_type, location, loc_type)
         _loc = None
         _cs = None
 
         try:
             with transaction.atomic():
                 _file = models.Files(ci_type=_ci_type, mime_type=mime_type)
                 _file.save()
@@ -353,20 +350,47 @@
 
         if skip_absent and any([not _fl_child, not _fl_parent]):
             # no such file in database, can't include - so skip if we forced to do so
             return 0
 
         return self.add_inclusion(_fl_child, _fl_parent, path)
 
+    def _ci_type_record(self, ci_type, loc_path, loc_type):
+        """
+        Get ci-type record. Try to detect by path given and its location type if not exists.
+        Uses 'ci_type_by_path' first to detect a type if it is not given.
+        Returns a record from database for a type detected, and default one for 'FILE' if detection fails.
+        Raises an exception if record for CI_TYPE does not exist in database.
+        :param str ci_type: type to get record for
+        :param str loc_path: location path for autodetection
+        :param str loc_type: location type code for autodetection
+        :return oc_delivery_apps.checksums.CiTypes: a record for a type given, or autodetected one
+        """
+        if not ci_type:
+            # we are force to autodetect
+            ci_type = self.ci_type_by_path(loc_path, loc_type)
+            logging.debug("Location path: [%s]; Location type: [%s]; Autodetected CI_TYPE: [%s]" % (loc_path, loc_type, ci_type))
+        elif not models.CiTypes.objects.filter(code=ci_type).count():
+            _ci_type = self.ci_type_by_path(loc_path, loc_type)
+            logging.error("CI_TYPE not found: [%s], replaced to [%s]" % (ci_type, _ci_type))
+            ci_type = _ci_type
+
+        _ci_type_r = models.CiTypes.objects.filter(code=ci_type).last()
+
+        if not _ci_type_r:
+            raise ValueError("CI_TYPE not found: [%s]" % ci_type)
+
+        return _ci_type_r
+
     def ci_type_by_path(self, path, loc_type):
         """
         Get ci-type code by path given and location type. Searches by regexp's in database and returns first CI_TYPE which's regexp path given has met to.
         :param str path: location path
         :param loc_type: location type code
-        :return str: ci-type code, or None if not found
+        :return str: ci-type code, or default 'FILE' if nothing found
         """
 
         if not loc_type:
             raise ValueError("Location type is mandatory")
 
         if not path:
             raise ValueError("Path is mandatory")
@@ -601,43 +625,40 @@
         :param str loc_type: location type for loc_path. Will try to auto-detect if missing.
         :param loc_revision: str or int, location revision, may not be omitted for SVN location type
         :return: file record from model which was registered for an sql given
         """
         _file_pos = file_o.tell()
         _mime_type = self.mime(file_o)
 
-        if not ci_type:
-            ci_type = self.ci_type_by_path(loc_path, loc_type)
-
-        _ci_type_r = models.CiTypes.objects.filter(code=ci_type).last()
+        _ci_type_r = self._ci_type_record(ci_type, loc_path, loc_type)
 
         file_o.seek(0, os.SEEK_SET)
         _cs_d = self.get_all_sql_checksums(file_o)
         _fl_m_r = None
         try:
             with transaction.atomic():
                 _fl_m_r = models.Files(ci_type=_ci_type_r, mime_type=_mime_type)
                 _fl_m_r.save()
                 _fl_m_r = self._reg_all_sql_cs_provs(_fl_m_r, _cs_d)
 
         except IntegrityError as _e:
-            logging.exception(_e)
+            logging.debug(repr(_e), exc_info=True)
             _fl_m_r = self.get_file_by_checksums_dict(_cs_d)
 
             if _fl_m_r is None:
                 raise
 
             _fl_m_r = _fl_m_r[1]  # get real file object from tuple
             _fl_m_r = self._reg_all_sql_cs_provs(_fl_m_r, _cs_d, dup=True)
             pass
 
         # check arguments is not needed since they are checked in sub-methods
         # one exception: location and location type have to be set in pair
         if loc_path and not loc_type:
-            raise ValueError("loc_path is specified but loc_type is missing")
+            raise ValueError("'loc_path' is specified but 'loc_type' is missing")
 
         if loc_path: 
             self.add_location(_fl_m_r, loc_path, loc_type, loc_revision)
 
         file_o.seek(_file_pos, 0)
         return _fl_m_r
 
@@ -729,14 +750,40 @@
         :param bool force_recalc: if True then all included archives contents is to be re-calculated even if it is found to be registered already
         :return: file record from model, or None on failure
         """
         (_fl_r, _inclusion_level_calc) = self._register_file_obj(file_o, ci_type, loc_path,
                 loc_type, loc_revision, inclusion_level, ci_type_sub, force_recalc, 0)
         return _fl_r
 
+    def _is_sql_extension(self, loc_path, loc_type):
+        """
+        Try to get extension from location path given and check against SQL
+        :param str loc_path: location path
+        :param str loc_type: location type code
+        """
+
+        if not loc_path:
+            logging.error("Empty location path given")
+            return False
+
+        # if location type is NXS (maven) then we have to convert it to path
+        # all other location types assumed to be POSIX-compatible
+        if isinstance(loc_type, str):
+            loc_type = loc_type.upper()
+
+        if loc_type == "NXS":
+            logging.debug("NXS location, converting GAV [%s] to POSIX path" % loc_path)
+            loc_path = gav_to_path(loc_path)
+            logging.debug("GAV converted to path: [%s]" % loc_path)
+
+        _ext = list(posixpath.splitext(loc_path)).pop().lower()
+        logging.debug("Extension is [%s]" % _ext)
+
+        return _ext in [".sql", ".plb"]
+
     def _register_file_obj(self, file_o, ci_type, loc_path, loc_type, loc_revision, inclusion_level, ci_type_sub, force_recalc, inclusion_level_calc):
         """
         Registers file or file-like object in the database. MD5 checksum and MIME-type of the file object will be calculated. 
         No duplicate locations and checksums will be stored.
         all possible checksums of '.sql' objects will be stored
         :param file_o: python file-like object, have to be opened already in BINARY mode.
         :param str ci_type: ci_type code of file_object itself. Will be determined by regular expressions in database if not given.
@@ -758,15 +805,15 @@
         _normalizer = normalizer.PLSQLNormalizer()
         _file_r_m = None
 
         _pos = file_o.tell()
         file_o.seek(0, 0)
         _inclusion_level_calc_src = inclusion_level_calc
 
-        if not _normalizer.is_sql(file_o.read(self.__sql_limit)):
+        if not self._is_sql_extension(loc_path, loc_type) or not _normalizer.is_sql(file_o.read(self.__sql_limit)):
             # calculate file checksum
             _md5sum = self.md5(file_o)
             # register MD5 sum as "Regular" for non-sql files
             _file_r_m = self.register_file_md5(_md5sum, ci_type, 
                     self.mime(file_o), loc_path, loc_type, loc_revision, cs_prov="Regular")
             _inclusion_level_tmp = self.get_current_inclusion_depth(_file_r_m)
             _registered = (not force_recalc)\
@@ -811,20 +858,18 @@
         # do nothing if not since whole file shall be registered otherwise.
         if not self._is_strict_cs_prov(cs_prov):
             return None
 
         # check arguments is not needed since they are checked in sub-methods
         # one exception: location and location type have to be set in pair
         if loc_path and not loc_type:
-            raise ValueError("loc_path is specified but loc_type missing")
+            raise ValueError("'loc_path' is specified but 'loc_type' missing")
 
-        if not ci_type:
-            ci_type = self.ci_type_by_path(loc_path, loc_type)
+        _ci_type_r = self._ci_type_record(ci_type, loc_path, loc_type)
 
-        _ci_type_r = models.CiTypes.objects.filter(code=ci_type).last()
         _fl_r = None
 
         try:
             with transaction.atomic():
                 _fl_r = models.Files(ci_type=_ci_type_r, mime_type=mime_type)
                 _fl_r.save()
                 self.add_checksum(_fl_r, md5sum)  # add checksum
@@ -1018,15 +1063,15 @@
         :param fl_o: file-like object to perform step upon
         :param str step: step name (cs_prov prefix)
         :param bool is_first: is it the first step
         :return: dictionary of step result where keys are step names (===cs_provs) and values are temporary file objects with step results
         """
 
         if step not in list(self.__cs_providers.keys()):
-            raise ValueError("%s not found in providers list" % step)
+            raise ValueError("[%s]: not found in providers list" % step)
 
         _result = dict()
 
         if "func" not in self.__cs_providers[step]:
             # do not unite above and below conditions into single one, because it will go to 'else' branch if we do so
             # but this case it will be a crime and unwanted exceptions
             if is_first:
```

## Comparing `oc_delivery_apps-11.2.9.dist-info/LICENSE` & `oc_delivery_apps-11.3.0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `oc_delivery_apps-11.2.9.dist-info/RECORD` & `oc_delivery_apps-11.3.0.dist-info/RECORD`

 * *Files 3% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 oc_delivery_apps/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 oc_delivery_apps/checksums/Component.py,sha256=1xmnADOpY8_0T4YhtQwAeyq6CtN-kPwwAjEJFZPPF5Q,1851
 oc_delivery_apps/checksums/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 oc_delivery_apps/checksums/apps.py,sha256=sEUAAIv0vBVcS266j2E4hrxfXeYckT6JAywMZIqOS6A,171
-oc_delivery_apps/checksums/archive_object.py,sha256=q4bvW49t61OcKaK_c2hO_pBZtW6Xv-PYiO63OWJRtRU,4756
-oc_delivery_apps/checksums/controllers.py,sha256=pafjf9FeGRLyU34dkMegPwa8qqsFGYEKBYQ7BeR7CjE,60363
+oc_delivery_apps/checksums/archive_object.py,sha256=fxW4PDslEL5BNJHtyH-lQQD7c6Wu-fQVlQxiAt-n-3c,4932
+oc_delivery_apps/checksums/controllers.py,sha256=fS_CUesFq4IBRCbVZrM1vh4sFStLObJ66kpPHFXx-Mg,62655
 oc_delivery_apps/checksums/models.py,sha256=ew5fJFc1foi_mQfmHPQjfUvu6JMU2jijYatEJRGrARA,11096
 oc_delivery_apps/checksums/migrations/0001_initial.py,sha256=6as4VkakGAg3Frh0eJEKD3xadvRPO-Stg9izWH3lq44,3501
 oc_delivery_apps/checksums/migrations/0002_auto_20170424_0902.py,sha256=yiJTdRWHkvCtX1RYQv57iBi658uTWzuw3Zswu_BHKes,1144
 oc_delivery_apps/checksums/migrations/0003_auto_20170424_1235.py,sha256=fdipCSYpGLi1bf1O7RMREdHni5PM2kIFGO5CaDFV-Eg,1223
 oc_delivery_apps/checksums/migrations/0005_fileinfo.py,sha256=AplYhbMPQh8mYDRXFo9oK6GNd21KXKi0_3i8nmu7L1k,182
 oc_delivery_apps/checksums/migrations/0006_citypes_is_deliverable.py,sha256=UY2HRQbAa0BSdZKKYAGbzSVJKNbQkalwomwxbLLo9Qw,404
 oc_delivery_apps/checksums/migrations/0007_locations_revision.py,sha256=rjN54nJImXH0UxtZ1szLiko4OZSt81rYmPTgv7sHWSg,434
@@ -36,16 +36,16 @@
 oc_delivery_apps/checksums/migrations/0030_auto_20180514_2311.py,sha256=FliAv24WnxOboTi0jPxULApfHwuJGKX3NhbblnggpVo,630
 oc_delivery_apps/checksums/migrations/0031_auto_20180528_2344.py,sha256=A2auPlUUi1j580JXg9TytH8ASyfOZV03cE83f-P7B-I,182
 oc_delivery_apps/checksums/migrations/0032_auto_20180703_0023.py,sha256=ja_En6UG3oc1tWlxmW-iRFxeyqyKlgGJRtfz_961aZQ,700
 oc_delivery_apps/checksums/migrations/0033_auto_20200117_0810.py,sha256=VO4KIbO_Dm6Z-qnLNx3OjuHLtYrNxpUzGJ6cGydjTAc,806
 oc_delivery_apps/checksums/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 oc_delivery_apps/dlcontents/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 oc_delivery_apps/dlcontents/apps.py,sha256=0Oa9WXlUieOiXlS3LBrCRxhtp7yY_zMkKVVIKufpbbc,172
-oc_delivery_apps/dlcontents/archive_object.py,sha256=q4bvW49t61OcKaK_c2hO_pBZtW6Xv-PYiO63OWJRtRU,4756
-oc_delivery_apps/dlcontents/controllers.py,sha256=yc1sZZunGkD0NWt0OdtLkDGJvKYUXlbYlNM5mCopoOs,58604
+oc_delivery_apps/dlcontents/archive_object.py,sha256=fxW4PDslEL5BNJHtyH-lQQD7c6Wu-fQVlQxiAt-n-3c,4932
+oc_delivery_apps/dlcontents/controllers.py,sha256=e7rtxloQbIlTVhYQYkfPZ0OIQ-lzt6ttzuvNA5ukirA,60792
 oc_delivery_apps/dlcontents/models.py,sha256=o3CKJFADobBiEEkREZqShYxBc7RG5HeAoMLeqFYRwdM,9313
 oc_delivery_apps/dlcontents/migrations/0001_initial.py,sha256=ozJzoZVI4rb2RJYkME1r-_s6BdX75G1O94MyA7snqzQ,3506
 oc_delivery_apps/dlcontents/migrations/0002_auto_20170424_0902.py,sha256=u2qUwIjwE9YogFUiWHPoePUTrjno7ZI4WWuFOLKYljg,1148
 oc_delivery_apps/dlcontents/migrations/0003_auto_20170424_1235.py,sha256=MnqHZCn9GKI-GUh3z1-68KBsvOe4UU8TxU3eeJ9Ck2o,1226
 oc_delivery_apps/dlcontents/migrations/0005_fileinfo.py,sha256=-3I27_uDtA8b6jOuIHVK4TRxwobBSFU4K6TOvcpmDIw,182
 oc_delivery_apps/dlcontents/migrations/0006_citypes_is_deliverable.py,sha256=SPFyH0dkON0y3_HjLmtDKZW38L-rpNomaBuvkA2Y17o,405
 oc_delivery_apps/dlcontents/migrations/0007_locations_revision.py,sha256=zqLbNr4dHOwgpTbglG9NDbgIzn64R92SvAaMAs-2gLo,435
@@ -104,12 +104,12 @@
 oc_delivery_apps/dlmanager/migrations/0018_jiraprojects.py,sha256=k28LbyH25HL-C0YAnrhC1BBVqVle3bZQzMLJLy3QnUc,770
 oc_delivery_apps/dlmanager/migrations/0019_auto_20190219_0909.py,sha256=ezTo5kkEB3blsJOhRGWw-M1HUKsxcl8G5i-hMaDBZqw,1218
 oc_delivery_apps/dlmanager/migrations/0020_JiraInstances_Table_Addition.py,sha256=PSRNm7oQDK3y70oAKXJjdYZQ9g4cfbl44LYHjamNLFk,1386
 oc_delivery_apps/dlmanager/migrations/0021_AddedUniqueFields.py,sha256=B8Tv1NR5VIeRywfcUPPFIlobioOY_S_rIsyhVIsglqU,618
 oc_delivery_apps/dlmanager/migrations/0022_auto_20190319_0653.py,sha256=mZkmmpgPi4eGCjiENpbOj5JLPHKfDYUI6lsmu_YCHBc,744
 oc_delivery_apps/dlmanager/migrations/0023_jirainstances_priority.py,sha256=jU0byKU9kR0GO10Md6xgNNGeUFTz2PZcCPfipZG8-Kg,369
 oc_delivery_apps/dlmanager/migrations/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-oc_delivery_apps-11.2.9.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
-oc_delivery_apps-11.2.9.dist-info/METADATA,sha256=AA_VYQNd9aU8DriKD9hUzjx5v-SWY-cH7C7-vEc7cOA,435
-oc_delivery_apps-11.2.9.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-oc_delivery_apps-11.2.9.dist-info/top_level.txt,sha256=mgjUy9S_S_KbwiuaHOaMBmKJ5pmsBMgYl6dMHdsWAw4,17
-oc_delivery_apps-11.2.9.dist-info/RECORD,,
+oc_delivery_apps-11.3.0.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
+oc_delivery_apps-11.3.0.dist-info/METADATA,sha256=5vxvpYAnAE7RsBN1q3HilygHvTFlJQZbbkhy01VVlxI,435
+oc_delivery_apps-11.3.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+oc_delivery_apps-11.3.0.dist-info/top_level.txt,sha256=mgjUy9S_S_KbwiuaHOaMBmKJ5pmsBMgYl6dMHdsWAw4,17
+oc_delivery_apps-11.3.0.dist-info/RECORD,,
```

