# Comparing `tmp/panda_client_light-1.5.61-py2.py3-none-any.whl.zip` & `tmp/panda_client_light-1.5.62-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,38 +1,38 @@
-Zip file size: 155934 bytes, number of entries: 36
+Zip file size: 156203 bytes, number of entries: 36
 -rw-r--r--  2.0 unx    63478 b- defN 20-Feb-02 00:00 pandaclient/AthenaUtils.py
 -rw-r--r--  2.0 unx     2276 b- defN 20-Feb-02 00:00 pandaclient/BookConfig.py
 -rwxr-xr-x  2.0 unx    32382 b- defN 20-Feb-02 00:00 pandaclient/BookGUI.py
--rwxr-xr-x  2.0 unx    64164 b- defN 20-Feb-02 00:00 pandaclient/Client.py
+-rwxr-xr-x  2.0 unx    64256 b- defN 20-Feb-02 00:00 pandaclient/Client.py
 -rwxr-xr-x  2.0 unx     3118 b- defN 20-Feb-02 00:00 pandaclient/FileSpec.py
--rw-r--r--  2.0 unx     3468 b- defN 20-Feb-02 00:00 pandaclient/Group_argparse.py
+-rw-r--r--  2.0 unx     4175 b- defN 20-Feb-02 00:00 pandaclient/Group_argparse.py
 -rwxr-xr-x  2.0 unx    27030 b- defN 20-Feb-02 00:00 pandaclient/JobSpec.py
 -rw-r--r--  2.0 unx    13691 b- defN 20-Feb-02 00:00 pandaclient/LocalJobSpec.py
 -rw-r--r--  2.0 unx    11007 b- defN 20-Feb-02 00:00 pandaclient/LocalJobsetSpec.py
 -rw-r--r--  2.0 unx    10225 b- defN 20-Feb-02 00:00 pandaclient/MiscUtils.py
 -rw-r--r--  2.0 unx    15025 b- defN 20-Feb-02 00:00 pandaclient/MyproxyUtils.py
 -rw-r--r--  2.0 unx    17679 b- defN 20-Feb-02 00:00 pandaclient/PBookCore.py
 -rw-r--r--  2.0 unx    19506 b- defN 20-Feb-02 00:00 pandaclient/PBookScript.py
 -rw-r--r--  2.0 unx     1167 b- defN 20-Feb-02 00:00 pandaclient/PLogger.py
 -rw-r--r--  2.0 unx       27 b- defN 20-Feb-02 00:00 pandaclient/PandaToolsPkgInfo.py
 -rw-r--r--  2.0 unx    15441 b- defN 20-Feb-02 00:00 pandaclient/ParseJobXML.py
--rw-r--r--  2.0 unx   104996 b- defN 20-Feb-02 00:00 pandaclient/PathenaScript.py
--rw-r--r--  2.0 unx    11704 b- defN 20-Feb-02 00:00 pandaclient/PchainScript.py
+-rw-r--r--  2.0 unx   104988 b- defN 20-Feb-02 00:00 pandaclient/PathenaScript.py
+-rw-r--r--  2.0 unx    11696 b- defN 20-Feb-02 00:00 pandaclient/PchainScript.py
 -rwxr-xr-x  2.0 unx      247 b- defN 20-Feb-02 00:00 pandaclient/PcontainerScript.py
 -rw-r--r--  2.0 unx    24834 b- defN 20-Feb-02 00:00 pandaclient/PdbUtils.py
--rw-r--r--  2.0 unx    27474 b- defN 20-Feb-02 00:00 pandaclient/PhpoScript.py
--rw-r--r--  2.0 unx   104663 b- defN 20-Feb-02 00:00 pandaclient/PrunScript.py
+-rw-r--r--  2.0 unx    27466 b- defN 20-Feb-02 00:00 pandaclient/PhpoScript.py
+-rw-r--r--  2.0 unx   104655 b- defN 20-Feb-02 00:00 pandaclient/PrunScript.py
 -rw-r--r--  2.0 unx    32751 b- defN 20-Feb-02 00:00 pandaclient/PsubUtils.py
 -rwxr-xr-x  2.0 unx        0 b- defN 20-Feb-02 00:00 pandaclient/__init__.py
 -rw-r--r--  2.0 unx     1862 b- defN 20-Feb-02 00:00 pandaclient/example_task.py
 -rw-r--r--  2.0 unx     2055 b- defN 20-Feb-02 00:00 pandaclient/idds_api.py
 -rw-r--r--  2.0 unx     4163 b- defN 20-Feb-02 00:00 pandaclient/localSpecs.py
 -rw-r--r--  2.0 unx    10226 b- defN 20-Feb-02 00:00 pandaclient/openidc_utils.py
 -rw-r--r--  2.0 unx    10528 b- defN 20-Feb-02 00:00 pandaclient/panda_api.py
 -rw-r--r--  2.0 unx     4975 b- defN 20-Feb-02 00:00 pandaclient/panda_gui.py
 -rw-r--r--  2.0 unx     4025 b- defN 20-Feb-02 00:00 pandaclient/panda_jupyter.py
 -rw-r--r--  2.0 unx     7280 b- defN 20-Feb-02 00:00 pandaclient/pcontainer_core.py
 -rw-r--r--  2.0 unx     4281 b- defN 20-Feb-02 00:00 pandaclient/queryPandaMonUtils.py
-?rw-r--r--  2.0 unx      894 b- defN 20-Feb-02 00:00 panda_client_light-1.5.61.dist-info/METADATA
-?rw-r--r--  2.0 unx      105 b- defN 20-Feb-02 00:00 panda_client_light-1.5.61.dist-info/WHEEL
-?rw-r--r--  2.0 unx     2992 b- defN 20-Feb-02 00:00 panda_client_light-1.5.61.dist-info/RECORD
-36 files, 659739 bytes uncompressed, 151214 bytes compressed:  77.1%
+?rw-r--r--  2.0 unx      894 b- defN 20-Feb-02 00:00 panda_client_light-1.5.62.dist-info/METADATA
+?rw-r--r--  2.0 unx      105 b- defN 20-Feb-02 00:00 panda_client_light-1.5.62.dist-info/WHEEL
+?rw-r--r--  2.0 unx     2992 b- defN 20-Feb-02 00:00 panda_client_light-1.5.62.dist-info/RECORD
+36 files, 660506 bytes uncompressed, 151483 bytes compressed:  77.1%
```

## zipnote {}

```diff
@@ -93,17 +93,17 @@
 
 Filename: pandaclient/pcontainer_core.py
 Comment: 
 
 Filename: pandaclient/queryPandaMonUtils.py
 Comment: 
 
-Filename: panda_client_light-1.5.61.dist-info/METADATA
+Filename: panda_client_light-1.5.62.dist-info/METADATA
 Comment: 
 
-Filename: panda_client_light-1.5.61.dist-info/WHEEL
+Filename: panda_client_light-1.5.62.dist-info/WHEEL
 Comment: 
 
-Filename: panda_client_light-1.5.61.dist-info/RECORD
+Filename: panda_client_light-1.5.62.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## pandaclient/Client.py

```diff
@@ -1993,29 +1993,31 @@
     return 0, output
 
 
 # update events
 def update_events(events, verbose=False):
     """Update events
        args:
-          events: a list of {'eventRangeID': ..., 'eventStatus': ..., 'errorCode': <optional>}
+          events: a list of {'eventRangeID': ..., 'eventStatus': ...,
+                             'errorCode': <optional>, 'errorDiag': <optional, < 500chars>}
           verbose: True to see verbose message
        returns:
           status code
              0: communication succeeded to the panda server
            255: communication failure
           a dictionary of {'Returns': a list of returns when updating events, 'Command': commands to jobs, 'StatusCode': 0 for OK})
     """
     # instantiate curl
     curl = _Curl()
     curl.sslCert = _x509()
     curl.sslKey  = _x509()
     curl.verbose = verbose
     # execute
     url = baseURLSSL + '/updateEventRanges'
-    data = {'eventRanges': json.dumps(events)}
+    data = {'eventRanges': json.dumps(events),
+            'version': 2}
     status, output = curl.post(url, data, is_json=True)
     if status != 0:
         return EC_Failed, output
     if output is None:
         return EC_Failed, 'server side error'
     return 0, output
```

## pandaclient/Group_argparse.py

```diff
@@ -1,10 +1,26 @@
 import argparse
 import sys
 from collections import OrderedDict
+try:
+    unicode
+except Exception:
+    unicode = str
+
+
+# check string args if they can be encoded with utf-8
+class ActionWithUnicodeCheck(argparse.Action):
+    def __call__(self, parser, namespace, values, option_string=None):
+        if isinstance(values, (unicode, str)):
+            try:
+                values.encode()
+            except Exception:
+                parser.exit(1, message="ERROR: argument --{0} cannot be encoded with utf-8: '{1}'\n".format(self.dest, values))
+        setattr(namespace, self.dest, values)
+
 
 class GroupArgParser(argparse.ArgumentParser):
     def __init__(self, usage, conflict_handler):
         self.groups_dict = OrderedDict()
         self.briefHelp = None
         self.examples =  ""
         super(GroupArgParser, self).__init__(usage=usage, conflict_handler=conflict_handler)
@@ -82,7 +98,14 @@
                 formatter.end_section()
                 print(formatter.format_help())
                 if group.usage:
                    print(group.usage)
              else:
                 raise Exception("!!!ERROR!!! Unknown group name=%s" % values)
              sys.exit(0)
+
+
+# factory method
+def get_parser(usage, conflict_handler):
+    p = GroupArgParser(usage, conflict_handler)
+    p.register('action', 'store', ActionWithUnicodeCheck)
+    return p
```

## pandaclient/PandaToolsPkgInfo.py

```diff
@@ -1 +1 @@
-release_version = "1.5.61"
+release_version = "1.5.62"
```

## pandaclient/PathenaScript.py

```diff
@@ -1,15 +1,15 @@
 import os
 import re
 import sys
 import copy
 import shutil
 import atexit
 import argparse
-from pandaclient.Group_argparse import GroupArgParser
+from pandaclient.Group_argparse import get_parser
 import random
 import pickle
 import json
 import time
 from pandaclient.MiscUtils import parse_secondary_datasets_opt
 
 try:
@@ -110,15 +110,15 @@
   "--useOldStyleOutput", 
   "--useShortLivedReplicas", 
   "--useSiteGroup", 
   "--useTagInTRF",
   "-l"
 ]
 
-optP = GroupArgParser(usage=usage, conflict_handler="resolve")
+optP = get_parser(usage=usage, conflict_handler="resolve")
 optP.set_examples(examples)
 
 # define option groups
 group_print   = optP.add_group('print', 'info print')
 group_pathena = optP.add_group('pathena', 'about pathena itself')
 group_config  = optP.add_group('config', 'single configuration file to set multiple options')
 group_input   = optP.add_group('input', 'input dataset(s)/files/format/seed')
```

## pandaclient/PchainScript.py

```diff
@@ -1,15 +1,15 @@
 import shutil
 import sys
 import re
 import os
 import shlex
 import atexit
 
-from pandaclient.Group_argparse import GroupArgParser
+from pandaclient.Group_argparse import get_parser
 from pandaclient import PLogger
 from pandaclient import PandaToolsPkgInfo
 from pandaclient import MiscUtils
 from pandaclient import Client
 from pandaclient import PsubUtils
 from pandaclient import PrunScript
 
@@ -29,15 +29,15 @@
     # tweak sys.argv
     sys.argv.pop(0)
     sys.argv.insert(0, 'pchain')
 
     usage = """pchain [options]
     """
 
-    optP = GroupArgParser(usage=usage, conflict_handler="resolve")
+    optP = get_parser(usage=usage, conflict_handler="resolve")
 
     group_output = optP.add_group('output', 'output dataset/files')
     group_config = optP.add_group('config', 'workflow configuration')
     group_submit = optP.add_group('submit', 'job submission/site/retry')
     group_expert = optP.add_group('expert', 'for experts/developers only')
     group_build = optP.add_group('build', 'build/compile the package and env setup')
     group_check = optP.add_group('check', 'check workflow description')
```

## pandaclient/PhpoScript.py

```diff
@@ -1,15 +1,15 @@
 import json
 import sys
 import re
 import os
 import copy
 import atexit
 
-from pandaclient.Group_argparse import GroupArgParser
+from pandaclient.Group_argparse import get_parser
 from pandaclient import PLogger
 from pandaclient import PandaToolsPkgInfo
 from pandaclient import MiscUtils
 from pandaclient import Client
 from pandaclient import PsubUtils
 
 try:
@@ -29,15 +29,15 @@
     # tweak sys.argv
     sys.argv.pop(0)
     sys.argv.insert(0, 'phpo')
 
     usage = """phpo [options]
     """
 
-    optP = GroupArgParser(usage=usage, conflict_handler="resolve")
+    optP = get_parser(usage=usage, conflict_handler="resolve")
 
     group_input = optP.add_group('input', 'input dataset(s)/files/format')
     group_output = optP.add_group('output', 'output dataset/files')
     group_config = optP.add_group('config', 'single configuration file to set multiple options')
     group_submit = optP.add_group('submit', 'job submission/site/retry')
     group_expert = optP.add_group('expert', 'for experts/developers only')
```

## pandaclient/PrunScript.py

```diff
@@ -2,15 +2,15 @@
 import os
 import sys
 import shutil
 import atexit
 import argparse
 import time
 
-from pandaclient.Group_argparse import GroupArgParser
+from pandaclient.Group_argparse import get_parser
 try:
     from urllib import quote
 except ImportError:
     from urllib.parse import quote
 import types
 import json
 import copy
@@ -79,15 +79,15 @@
       "--useMana",
       "--useOldStyleOutput",
       "--useRucio",
       "--useShortLivedReplicas",
       "--useSiteGroup"
     ]
 
-    optP = GroupArgParser(usage=usage, conflict_handler="resolve")
+    optP = get_parser(usage=usage, conflict_handler="resolve")
     optP.set_examples(examples)
 
     # command-line parameters
     group_print  = optP.add_group('print', 'info print')
     group_prun   = optP.add_group('prun', 'about prun itself')
     group_config = optP.add_group('config', 'single configuration file to set multiple options')
     group_input = optP.add_group('input', 'input dataset(s)/files/format')
```

## Comparing `panda_client_light-1.5.61.dist-info/METADATA` & `panda_client_light-1.5.62.dist-info/METADATA`

 * *Files 10% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: panda-client-light
-Version: 1.5.61
+Version: 1.5.62
 Summary: Lightweight PanDA Client Package installed on PanDA server
 Project-URL: Homepage, https://panda-wms.readthedocs.io/en/latest/
 Author-email: PanDA Team <atlas-adc-panda@cern.ch>
 License-Expression: Apache-2.0
 Classifier: Programming Language :: Python
 Classifier: Programming Language :: Python :: 2
 Classifier: Programming Language :: Python :: 2.7
```

## Comparing `panda_client_light-1.5.61.dist-info/RECORD` & `panda_client_light-1.5.62.dist-info/RECORD`

 * *Files 14% similar despite different names*

```diff
@@ -1,36 +1,36 @@
 pandaclient/AthenaUtils.py,sha256=IV02OXt_4rDJyo-NZFQawkMxCqrzxv-67VwJA0oDY7U,63478
 pandaclient/BookConfig.py,sha256=wM6KSkYDV7Jg-_M5GYckkvI1eysE1Q6U9RFwblmL-BQ,2276
 pandaclient/BookGUI.py,sha256=iM-EyioT5zb_6sECFtjxk_OSE0NZizsN1d46bj7IyYY,32382
-pandaclient/Client.py,sha256=xwlzQzX63Mrmqyjg-BvNatPnjU8upjqWFAc_6OEzLBU,64164
+pandaclient/Client.py,sha256=1qOr8Zb2J-wMaJad3Ud-zzfClAEaOBnqpvEVPRbNi94,64256
 pandaclient/FileSpec.py,sha256=1AMnagDrGZhnIBl4nMVTMASCdvwZoD4cs5weqmCeiwM,3118
-pandaclient/Group_argparse.py,sha256=Pn2qJEH3X_-nOvigsRteFHnWrQSxGPJ8GmTmCX3xR5o,3468
+pandaclient/Group_argparse.py,sha256=LHkVTz_J65UbU2IzAxO8-dlGjFvOqhHoeh47BmGRdaE,4175
 pandaclient/JobSpec.py,sha256=wMZLot1W_-mnkOtRzXkpBcRA7acVa0ggujaDgj_vUuo,27030
 pandaclient/LocalJobSpec.py,sha256=rVMgk4KVhMY1hjWnsaIL9cWVAZMEKVOnE4vQqz7cHWU,13691
 pandaclient/LocalJobsetSpec.py,sha256=nYQMhKrbCtzm68ZWnEXCs_-mWvATm9XClm514aJ-7cU,11007
 pandaclient/MiscUtils.py,sha256=SQWcqhHOW_tmahjb1zbO62zP-uBcB51SJB4ERyYtt5Y,10225
 pandaclient/MyproxyUtils.py,sha256=7eNIdr6Vt8phcW5FVbt5mZ10I4tZH0n-xAuKBk-GcQI,15025
 pandaclient/PBookCore.py,sha256=134Ubc_RG2SMjmgeNs6s_op-3zpyFFOcNLMqd89f8bs,17679
 pandaclient/PBookScript.py,sha256=zgH4LHQeXkyeM1rxtQ64KN0lFDM3wAqpsRf5QVYzp_I,19506
 pandaclient/PLogger.py,sha256=1R0xMlWsHLdptyb-ewt_o6NVveK07ENmKBoE-NKtyJw,1167
-pandaclient/PandaToolsPkgInfo.py,sha256=Sb6zlWyKISY_KBgP5Dd_kTrc3wWAvHQHw1JzakHcjso,27
+pandaclient/PandaToolsPkgInfo.py,sha256=DgpK_Vd51wh3kvj-UKRqYIckaSiSmSvK_9oGXxHm1_0,27
 pandaclient/ParseJobXML.py,sha256=GWdiTXhRZOVIqxUT4laZZ13WQ5HZs4V2PgichtyQ4Ec,15441
-pandaclient/PathenaScript.py,sha256=mooF4Tp0rtlzkrso2omUNY5HeNU_OSOpzakVGoS9vg4,104996
-pandaclient/PchainScript.py,sha256=JuDJoegkS82Yggo7_szQVEuePgYp5NHp-_vmxOPovW8,11704
+pandaclient/PathenaScript.py,sha256=LcUwCNrAmN2m2DOdhJqPjRlJiMPN8SRkSn5fOX-u-AM,104988
+pandaclient/PchainScript.py,sha256=QyQS6i_Espb-BwajMyGTfngQJdvqUZICPUDnhKpZnkI,11696
 pandaclient/PcontainerScript.py,sha256=J7EiyUfBmMPHXvdwbPE7t9redP6JhdWmCZa3Yg27fRQ,247
 pandaclient/PdbUtils.py,sha256=TNsmCb___D1JevvocLWMUUKajA10Zo62VjdqDx4-Law,24834
-pandaclient/PhpoScript.py,sha256=SgAFlX4VJSx24A4z4fH6sTwka1CJD2_CAbOxrgVXrwU,27474
-pandaclient/PrunScript.py,sha256=lRGKiskp0USbXv9q4-z3BXLplOnzp4UXjW95QQs9xwU,104663
+pandaclient/PhpoScript.py,sha256=9CyzSvppDrcDYyAJ1aHNzOMRgGIY2gRuibCK9wim6E8,27466
+pandaclient/PrunScript.py,sha256=MtceatuP1BqxAEq0n0GtA2C5W_SnseQaNfe93JumK3E,104655
 pandaclient/PsubUtils.py,sha256=gKHSySL1nsqmYrQtbNM5Hlx-M_6MFQ-Wwmo_MQHJBpA,32751
 pandaclient/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 pandaclient/example_task.py,sha256=8bMua7YPKI8Eh-UgyZJVDUT3Hhv35FDyQ_eo7KW2PRk,1862
 pandaclient/idds_api.py,sha256=2khWVag3GDHQEkfqZvnuq0Qcc_hGsOCknglHSS9mudY,2055
 pandaclient/localSpecs.py,sha256=Cx9ZNTaOvFIWbk_u9f7Xg9s_4zJdhyksAeMWNwHKbt0,4163
 pandaclient/openidc_utils.py,sha256=nV4cq1n9jDgGXn8FqoERBDHDnFEJMTYuZ7HqIbWKqaU,10226
 pandaclient/panda_api.py,sha256=eNLVvzBiqjANFbqED_AX-K3UI7tASl0fHml8SAMuIkw,10528
 pandaclient/panda_gui.py,sha256=5nW5RsYaXuDcgsxj8SCXvnrZrC117bg70OBZRXqjIvY,4975
 pandaclient/panda_jupyter.py,sha256=buiC8kGSA_KCaZ9TF6XLbfi0hwHi9d6_npDXitRlkCA,4025
 pandaclient/pcontainer_core.py,sha256=k_HjWhLtGPVtnRgK1yaMzEY0XgiBz3XHZt-rVoLf04c,7280
 pandaclient/queryPandaMonUtils.py,sha256=7NqvwjMAgpJC9re4qKe7W6Zn9E7CRzyL1yHmp9yndsg,4281
-panda_client_light-1.5.61.dist-info/METADATA,sha256=Yjl-PEaHX9LOtpKNlb3c9lle-nzWvp6MpLOEhUo3KIk,894
-panda_client_light-1.5.61.dist-info/WHEEL,sha256=fagL_Tj29mg80flwlxJNW45nBDbboxF04Tnbc_jt3Bg,105
-panda_client_light-1.5.61.dist-info/RECORD,,
+panda_client_light-1.5.62.dist-info/METADATA,sha256=qYH6pXiwMYPMInRRHZIQXwK7Uy2u70HV1-NlQeScruU,894
+panda_client_light-1.5.62.dist-info/WHEEL,sha256=fagL_Tj29mg80flwlxJNW45nBDbboxF04Tnbc_jt3Bg,105
+panda_client_light-1.5.62.dist-info/RECORD,,
```

